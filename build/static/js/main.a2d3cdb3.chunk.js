(this.webpackJsonppicshop=this.webpackJsonppicshop||[]).push([[0],{28:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),i=c.n(n),s=c(20),a=c.n(s),o=c(9),j=c(22),u=c(18),l=c(7),b=c(15),d=c.n(b),O=i.a.createContext();function m(e){var t=e.children,c=Object(n.useState)([]),i=Object(l.a)(c,2),s=i[0],a=i[1],o=Object(n.useState)([]),b=Object(l.a)(o,2),m=b[0],f=b[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]),Object(r.jsx)(O.Provider,{value:{allPhotos:s,toggleFavorite:function(e){var t=s.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite}):t}));a(t)},addToCart:function(e){f((function(t){return[].concat(Object(j.a)(t),[e])}))},removeFromCart:function(e){f((function(t){return t.filter((function(t){return t.id!==e}))}))},emptyCart:function(){f([])},successMsg:function(){d.a.fire("Congrats!","You successfully placed an order!","success")},cartItems:m},children:t})}c(28);var f=function(){var e=Object(n.useContext)(O).cartItems;return Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)("h2",{children:Object(r.jsx)(o.b,{to:"/",children:"Pic Some"})}),Object(r.jsx)(o.b,{to:"/cart",children:e.length>0?Object(r.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(r.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})})};var h=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(n.useRef)(null);function s(){r(!0)}function a(){r(!1)}return Object(n.useEffect)((function(){i.current.addEventListener("mouseenter",s),i.current.addEventListener("mouseleave",a)}),[]),[c,i]};var x=function(e){var t=e.item,c=h(),i=Object(l.a)(c,2),s=i[0],a=i[1],o=Object(n.useContext)(O).removeFromCart,j=s?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(r.jsxs)("div",{className:"cart-item",children:[Object(r.jsx)("i",{onClick:function(){return o(t.id)},className:j,ref:a}),Object(r.jsx)("img",{src:t.url,width:"130px"}),Object(r.jsx)("p",{children:"$5.99"})]})};var v=function(){var e=Object(n.useState)("Place Order"),t=Object(l.a)(e,2),c=t[0],i=t[1],s=Object(n.useContext)(O),a=s.cartItems,o=s.emptyCart,j=s.successMsg,u=(5.99*a.length).toLocaleString("en-US",{style:"currency",currency:"USD"}),b=a.map((function(e){return Object(r.jsx)(x,{item:e},e.id)}));return Object(r.jsxs)("main",{className:"cart-page",children:[Object(r.jsx)("h1",{children:"Check out"}),b,Object(r.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),a.length>0?Object(r.jsx)("div",{className:"order-button",children:Object(r.jsx)("button",{onClick:function(){i("Ordering..."),setTimeout((function(){console.log("Order Placed!"),i("Place Order"),j(),o()}),3e3)},children:c})}):Object(r.jsx)("p",{children:"You have no item in the cart!"})]})};var p=function(e){var t=e.className,c=e.img,i=h(),s=Object(l.a)(i,2),a=s[0],o=s[1],j=Object(n.useContext)(O),u=j.toggleFavorite,b=j.addToCart,d=j.removeFromCart,m=j.cartItems;return Object(r.jsxs)("div",{className:"".concat(t," image-container"),ref:o,children:[Object(r.jsx)("img",{src:c.url,className:"image-grid"}),c.isFavorite?Object(r.jsx)("i",{onClick:function(){return u(c.id)},className:"ri-heart-fill favorite"}):a?Object(r.jsx)("i",{onClick:function(){return u(c.id)},className:"ri-heart-line favorite"}):void 0,m.some((function(e){return e.id===c.id}))?Object(r.jsx)("i",{onClick:function(){return d(c.id)},className:"ri-shopping-cart-fill cart"}):a?Object(r.jsx)("i",{onClick:function(){return b(c)},className:"ri-add-circle-line cart"}):void 0]})};function g(e){return e%5===0?"big":e%6===0?"wide":void 0}var C=function(){var e=Object(n.useContext)(O).allPhotos.map((function(e,t){return Object(r.jsx)(p,{img:e,className:g(t)},e.id)}));return Object(r.jsx)("main",{className:"photos",children:e})},N=c(2);var k=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(f,{}),Object(r.jsxs)(N.c,{children:[Object(r.jsx)(N.a,{exact:!0,path:"/",children:Object(r.jsx)(C,{})}),Object(r.jsx)(N.a,{path:"/cart",children:Object(r.jsx)(v,{})})]})]})};a.a.render(Object(r.jsx)(m,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)(k,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a2d3cdb3.chunk.js.map